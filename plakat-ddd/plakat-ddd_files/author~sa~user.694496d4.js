(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"84Gt":function(t,e,s){"use strict";var n=s("meb9");s.n(n).a},gVTg:function(t,e,s){"use strict";var n=s("ojb3");s.n(n).a},mXob:function(t,e,s){"use strict";var n=s("mrSG"),i=s("2+GW"),o=s("RFs+"),r=s("H9mH"),u=s("cA5C"),a=s("HiEY"),c=s("VAsr"),l=s("CXev"),p=s("Zdk5"),d=s.n(p),b=s("YKMj"),g=s("TBcT"),f=s("sjpU"),_=s("TX8y"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedTestGroupRunIndex=0,e.showGradingOutputText=!1,e.longFormatDate=e.$options.filters.longFormatDate,e}return Object(n.d)(e,t),Object.defineProperty(e.prototype,"isCourseAuthor",{get:function(){return c.a.hasDisplayRight(u.a.CourseAuthor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdmin",{get:function(){return a.b.isAdministrator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"testGroupRuns",{get:function(){return this.testGroup.testGroupRuns},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return this.testGroupRuns.length>0||this.isCourseAuthor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"testGroupRunOptions",{get:function(){if(this.testGroupRuns.length<=1)return[];for(var t=[],e=0;e<this.testGroupRuns.length;e++)t.push({text:this.$options.filters.longFormatDate(this.testGroupRuns[e].created),value:e});return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"testGroupRun",{get:function(){return this.testGroupRuns[this.selectedTestGroupRunIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isProcessing",{get:function(){switch(this.testGroupRun.status){case"created":case"inQueue":case"processing":return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queueTime",{get:function(){return this.testGroupRun.gradingStarted?((Date.parse(this.testGroupRun.gradingStarted)-Date.parse(this.testGroupRun.created))/1e3).toFixed(1)+"s":"-"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"postProcessingTime",{get:function(){return this.testGroupRun.finished&&this.testGroupRun.gradingStarted?((Date.parse(this.testGroupRun.finished)-Date.parse(this.testGroupRun.gradingStarted)-this.testGroupRun.executionTime)/1e3).toFixed(1)+"s":"-"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullFeedback",{get:function(){return"full"===this.testGroup.feedback},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"testRunTableItems",{get:function(){return this.testGroupRun.testRuns},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"testRunTableGrid",{get:function(){return this.isPhone?"1fr auto":Object(f.j)(90)+" 1fr minmax(0, auto) auto"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradingOutput",{get:function(){var t=this.testGroupRun;if(!t)return null;if("exerciseError"===t.status||"systemError"===t.status)return e={title:this.lang("Submission","exerciseError"===t.status?"ExerciseError":"SystemError"),text:t.log};if(t.compilerOut){var e={text:t.compilerOut};return"compileError"===this.testGroupRun.result?e.title=this.lang("Submission","CompilationFailed"):(e.title=this.lang("Submission","CompilerOutput"),e.toggleText=this.lang("Submission",this.showGradingOutputText?"HideCompilerOutput":"ShowCompilerOutput")),e}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canShowTestRunData",{get:function(){return Object(g.a)(this.testGroup,this.displayRight)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"testRunResult",{get:function(){return function(t){return Object(g.c)(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return function(t){return"succeeded"!==t.result&&t.hint?Object(f.g)(t.hint):null}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cpuTime",{get:function(){return function(t){return Object(_.d)(t.cpuTime)?null:(t.cpuTime/1e3).toFixed(2)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wallTime",{get:function(){return function(t){return Object(_.d)(t.wallTime)?null:(t.wallTime/1e3).toFixed(2)}},enumerable:!1,configurable:!0}),e.prototype.showTestRun=function(t){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.e)(this,(function(e){switch(e.label){case 0:return this.canShowTestRunData?[4,l.a.showOverlay({type:"TestRunResult",data:{testRunId:t.id,testRunTitle:t&&t.name||""}})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.showDebugData=function(){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.e)(this,(function(t){switch(t.label){case 0:return[4,l.a.showOverlay({type:"DebugData",data:{testGroupRunId:this.testGroupRun.id}})];case 1:return t.sent(),[2]}}))}))},e.prototype.showPlot=function(){throw new Error("Not implemented")},e.prototype.regrade=function(){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.e)(this,(function(t){switch(t.label){case 0:return a.b.setPageLoading(!0),[4,Object(o.a)(i.nb.post(this.submission.id,this.testGroup.id))];case 1:return t.sent(),a.b.setPageLoading(!1),[2]}}))}))},e.prototype.deleteTestGroupRun=function(){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.e)(this,(function(t){switch(t.label){case 0:return confirm("Are you sure you want to delete the test group?")?(a.b.setPageLoading(!0),[4,Object(o.a)(i.db.delete(this.testGroupRun.id))]):[3,2];case 1:t.sent(),a.b.setPageLoading(!1),t.label=2;case 2:return[2]}}))}))},e.prototype.downloadData=function(){Object(o.b)(i.yb.get(this.testGroupRun.id))},Object(n.c)([Object(b.c)()],e.prototype,"testGroup",void 0),Object(n.c)([Object(b.c)()],e.prototype,"testGroups",void 0),Object(n.c)([Object(b.c)()],e.prototype,"submission",void 0),e=Object(n.c)([d.a],e)}(r.a),v=(s("gVTg"),s("KHd+")),m=Object(v.a)(h,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show?s("div",[s("div",{staticClass:"testGroup-header"},[s("h3",{staticClass:"testGroup-name"},[t._v(t._s(t.testGroup.name))]),t._v(" "),s("div",{staticClass:"testGroupRun-select-container"},[t.isAdmin&&t.testGroupRun?s("div",{staticClass:"testGroupRun-gradingInfo"},[s("div",{staticClass:"infoBox"},[s("span",[t._v("Grader:")]),t._v(" "),s("span",[t._v(t._s(t.testGroupRun.grader||"-"))])]),t._v(" "),s("div",{staticClass:"infoBox"},[s("span",[t._v("Priority:")]),t._v(" "),s("span",[t._v(t._s(t.testGroupRun.priority))])]),t._v(" "),s("div",{staticClass:"infoBox"},[s("span",[t._v("Queue:")]),t._v(" "),s("span",{attrs:{title:"Grading started: "+t.longFormatDate(t.testGroupRun.gradingStarted)}},[t._v(t._s(t.queueTime))])]),t._v(" "),s("div",{staticClass:"infoBox"},[s("span",[t._v("Execution:")]),t._v(" "),s("span",[t._v(t._s((t.testGroupRun.executionTime/1e3).toFixed(1))+"s")])]),t._v(" "),s("div",{staticClass:"infoBox"},[s("span",[t._v("Post:")]),t._v(" "),s("span",{attrs:{title:"Finished: "+t.longFormatDate(t.testGroupRun.finished)}},[t._v(t._s(t.postProcessingTime))])])]):t._e(),t._v(" "),t.testGroupRuns.length>1?s("div",{staticClass:"testGroupRun-testRuns"},[s("span",{staticClass:"text-nowrap"},[t._v(t._s(t.lang("Submission","TestRuns")))]),t._v("Â \n        "),s("cj-select",{staticClass:"testGroupRun-select",attrs:{options:t.testGroupRunOptions},model:{value:t.selectedTestGroupRunIndex,callback:function(e){t.selectedTestGroupRunIndex=e},expression:"selectedTestGroupRunIndex"}})],1):t.testGroupRun?s("div",{staticClass:"testGroupRun-testRuns"},[t._v(t._s(t._f("longFormatDate")(t.testGroupRun.created)))]):t._e()])]),t._v(" "),0===t.testGroupRuns.length?[s("cj-table",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.lang("Submission","NoTestGroupRunsText")))])])]),t._v(" "),s("div",{staticClass:"testGroup__buttons"},[t.isCourseAuthor?s("cj-button",{attrs:{type:"admin","show-key":!0},on:{click:t.regrade}},[t._v("Grade")]):t._e()],1)]:[t.isProcessing?s("cj-table",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("i",[t._v(t._s(t.lang("Submission","Processing")))])])])]):t._e(),t._v(" "),t.gradingOutput&&t.gradingOutput.toggleText?s("p",{staticClass:"gradingOutput-toggle"},[s("a",{on:{click:function(e){t.showGradingOutputText=!t.showGradingOutputText}}},[t._v(t._s(t.gradingOutput.toggleText))])]):t._e(),t._v(" "),s("cj-flex-table",{staticClass:"testrun-table",attrs:{items:t.testRunTableItems,grid:t.testRunTableGrid,hover:t.testGroupRun.testRuns.length>0},on:{"item-click":t.showTestRun},scopedSlots:t._u([t.gradingOutput&&!t.gradingOutput.toggleText||t.showGradingOutputText?{key:"customFirstRow",fn:function(){return[s("div",{staticClass:"gradingOutput"},[t.gradingOutput.title?s("b",[t._v(t._s(t.gradingOutput.title))]):t._e(),t._v(" "),t.gradingOutput.text?s("pre",{staticClass:"gradingOutput-text"},[t._v(t._s(t.gradingOutput.text))]):t._e()])]},proxy:!0}:null,{key:"item",fn:function(e){var n=e.item;return[s("cj-flex-cell",{staticClass:"testRun__Name"},[t._v(t._s(n.name))]),t._v(" "),s("cj-flex-cell",{attrs:{"phone-grid-row":"2","phone-grid-column":"1 / -1",padding:t.isPhone?4:8}},[s("div",[s("b",[t._v(t._s(t.testRunResult(n).result))]),t._v(" "),t.testRunResult(n).judgeOutput?s("span",[t._v(" ("+t._s(t.testRunResult(n).judgeOutput)+")")]):t._e()])]),t._v(" "),s("cj-flex-cell",{attrs:{align:"right","phone-grid-row":"3","phone-grid-column":"1 / -1",padding:t.isPhone?4:8}},[t.hint(n)?s("cj-tooltip",{staticClass:"testrun-info",attrs:{placement:"below"},scopedSlots:t._u([{key:"icon",fn:function(){return[s("span",{staticClass:"hint",on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.lang("Submission","Hint")))])]},proxy:!0},{key:"content",fn:function(){return[s("span",[t._v(t._s(t.hint(n)))])]},proxy:!0}],null,!0)}):t._e(),t._v(" "),t.cpuTime(n)?s("div",{staticClass:"testrun-info"},[s("span",{staticClass:"rowDescription"},[t._v(t._s(t.lang("Submission","CpuTime")))]),t._v(" "),s("span",{staticClass:"rowValue"},[t._v(t._s(t.cpuTime(n))+"s")])]):t._e(),t._v(" "),t.wallTime(n)?s("div",{staticClass:"testrun-info"},[s("span",{staticClass:"rowDescription"},[t._v(t._s(t.lang("Submission","WallTime")))]),t._v(" "),s("span",{staticClass:"rowValue"},[t._v(t._s(t.wallTime(n))+"s")])]):t._e()],1),t._v(" "),s("cj-flex-cell",{staticClass:"testRun__Visibility",attrs:{"phone-grid-row":"1","phone-grid-column":"2"}},[t.canShowTestRunData?s("a",{staticClass:"listlink"},[t._v(t._s(t.lang("Submission","TestData")))]):s("i",[t._v(t._s(t.lang("Submission","TestDataHidden")))])])]}}],null,!0)}),t._v(" "),s("div",{staticClass:"testGroup__buttons"},[t.isAdmin?s("cj-button",{attrs:{type:"sa"},on:{click:t.deleteTestGroupRun}},[t._v("Delete")]):t._e(),t._v(" "),t.isCourseAuthor?s("cj-button",{attrs:{type:"admin","show-key":!0},on:{click:t.regrade}},[t._v("Regrade")]):t._e(),t._v(" "),t.isCourseAuthor?s("cj-button",{attrs:{type:"admin","show-key":!0},on:{click:t.showDebugData}},[t._v("Show debug data")]):t._e(),t._v(" "),t.isFullFeedback||t.isCourseAuthor?s("cj-button",{class:{admin:!t.isFullFeedback},attrs:{"show-key":!t.isFullFeedback},on:{click:t.downloadData}},[t._v(t._s(t.lang("Submission","DownloadTestData")))]):t._e(),t._v(" "),t.testGroupRun.testGroup.showPlot?s("cj-button",{on:{click:t.showPlot}},[t._v(t._s(t.lang("Submission","Show plot")))]):t._e()],1)]],2):t._e()}),[],!1,null,"3a21ffd5",null).exports,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.d)(e,t),Object.defineProperty(e.prototype,"isCourseAuthor",{get:function(){return c.a.hasDisplayRight(u.a.CourseAuthor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdmin",{get:function(){return a.b.isAdministrator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submissionLanguage",{get:function(){var t=this,e=c.a.languages.filter((function(e){return e.language===t.submission.language}))[0];return e&&e.name||this.submission.language},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showUploadedBy",{get:function(){return this.submission.userId!==this.submission.uploadedByUserId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showSubmittedBy",{get:function(){return!this.isCourseAuthor&&this.submission.userId!==a.b.userId},enumerable:!1,configurable:!0}),e.prototype.showSourceCode=function(){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.e)(this,(function(t){switch(t.label){case 0:return[4,l.a.showOverlay({type:"SourceCode",data:{submissionId:this.submission.id,language:this.submission.language}})];case 1:return t.sent(),[2]}}))}))},e.prototype.regradeSubmission=function(){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.e)(this,(function(t){switch(t.label){case 0:return a.b.setPageLoading(!0),[4,Object(o.a)(i.mb.post(this.submission.id))];case 1:return t.sent(),a.b.setPageLoading(!1),[2]}}))}))},e.prototype.markNotLate=function(){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.e)(this,(function(t){switch(t.label){case 0:return a.b.setPageLoading(!0),[4,Object(o.a)(i.jb.post(this.submission.id))];case 1:return t.sent(),this.submission.isPassive=!1,c.a.updateActiveExerciseGroup({submission:this.submission}),a.b.setPageLoading(!1),[2]}}))}))},Object(n.c)([Object(b.c)()],e.prototype,"submission",void 0),Object(n.c)([Object(b.c)()],e.prototype,"testGroups",void 0),e=Object(n.c)([d()({components:{TestGroupRunInfo:m}})],e)}(r.a),O=(s("84Gt"),Object(v.a)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"submissionInfo"},[s("div",{staticClass:"submissionInfo-top"},[s("div",{staticClass:"submissionInfo-buttons"},[s("cj-button",{on:{click:t.showSourceCode}},[t._v(t._s(t.lang("Misc","SourceCode")))]),t._v(" "),t.isAdmin?s("cj-button",{attrs:{type:"sa"},on:{click:t.regradeSubmission}},[t._v("Run missing")]):t._e()],1),t._v(" "),s("div",{staticClass:"submissionInfo-metadata"},[s("div",{staticClass:"infoBox"},[s("span",[t._v(t._s(t.lang("Misc","Language"))+":")]),t._v(" "),s("span",[t._v(t._s(t.submissionLanguage))])]),t._v(" "),t.showSubmittedBy?s("div",{staticClass:"infoBox"},[s("span",[t._v(t._s(t.lang("Submission","SubmittedBy"))+":")]),t._v(" "),s("span",[t._v(t._s(t.submission.userDisplayName))])]):t._e(),t._v(" "),t.showUploadedBy?s("div",{staticClass:"infoBox"},[s("span",[t._v("Uploaded by:")]),t._v(" "),s("span",[t._v(t._s(t.submission.uploadedByUserDisplayName||"-"))])]):t._e(),t._v(" "),t.submission.isPassive?s("div",{staticClass:"infoBox"},[s("span",[t._v(t._s(t.lang("Submission","Late"))+":")]),t._v(" "),s("span",{attrs:{title:t.lang("Submission","LateText")}},[t._v(t._s(t.lang("Misc","Yes")))]),t._v(" "),t.isCourseAuthor?[t._v("\n          (\n          "),s("a",{on:{click:t.markNotLate}},[t._v("Mark not late")]),t._v(")\n        ")]:t._e()],2):t._e()])]),t._v(" "),0===t.testGroups.length?s("cj-table",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("i",[t._v(t._s(t.lang("Submission","ExerciseHasNoTests")))])])])]):t._e(),t._v(" "),t._l(t.testGroups,(function(e){return s("test-group-run-info",{key:e.id,staticClass:"testGroupRun",attrs:{"test-group":e,submission:t.submission,"test-groups":t.testGroups}})}))],2)}),[],!1,null,"9900f81a",null));e.a=O.exports},meb9:function(t,e,s){},ojb3:function(t,e,s){}}]);